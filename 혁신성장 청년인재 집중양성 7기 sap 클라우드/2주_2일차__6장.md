# 6. 엔티티의 정의

## 개요

* ### 데이터 모델링 (논리적 DB 설계) 과정

  ![데이터모델링의과정](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\데이터모델링의과정.png)

****

* ### 데이터 모델링

  * 현실 업무에 대한 자료 수집 및 정리 작업이 어느 정도 끝나게 되면 본격적으로 모델링 단계로 넘어 간다.
  * <그림 6.1>에서는 편의상 각 단계를 나누어 놓았지만 실제 모델링 과정에서는 여러 단계를 함께 진행하는 경우가 많다.
  * 데이터 모델링에서는 ERD 라는 수단을 통하여 모델링을 하고, 모델링의 결과를 표현
  * 데이터 모델링에서의 핵심은 엔티티를 도출하는 일
  * 엔티티를 도출하기위한 특별한 공식은 없다. 앞에서 수집된 자료들을 잘 살펴서 엔티티를 찾아내야 한다.

  ![엔티티도출](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출.png)

  

****

****



## 엔티티 다시보기

* ### 엔티티란

  * 업무의 관심 대상이 되는 정보를 갖고 있거나, 그에 대한 정보를 관리할 필요가 있는 유형, 무형의 사물 (개체)

    * 여기서 중요한 단어는 **'정보'**
    * 현실세계를 관찰하여 컴퓨터로 관리해야 할 정보, 혹 데이터를 찾는 것이 데이터 모델링
    * ERD의 핵심 개념인 엔티티는 관리해야 할 정보를 가지고 있는 현실 세계의 어떤 사물을 의미

  * 수강신청 업무에서 엔티티의 도출

    ![수강신청업무에서엔티티의도출](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\수강신청업무에서엔티티의도출.png)



****

****



## 엔티티의 도출 과정

* ### 접근 방법

  * 분석 / 설계 단계에서 업무에 대한 경험이 많지 않다면 다양한 경로를 통해 자료를 수집하고 엔티티를 찾아내야 한다.
  * 엔티티를 찾아내는 정해진 공식은 없다.
  * 다음 사항을 고려
    * 업무를 설명한 업무 기술서를 검토
    * 현업 담당자와의 인터뷰
    * 현업에서 사용하는 장표 (장부, 전표) 를 검토
    * 기존 시스템의 산출물 검토 ( 시스템이 이미 구축된 경우 )
    * DFD가 있다면 DFD상의 Data Stroe 를 추출
    * 현업 업무를 직접 견학하고 인터뷰와 업무 기술서에 누락된 정보가 있는지를 확인

* ### 엔티티 도출 과정

  * #### 엔티티 후보 풀(pool)과 엔티티 리스트를 그린다.

    * 엔티티 후보 풀(pool) : (엔티티인지 아닌지 애매한 경우 임시로 보관)

    ![엔티티도출1](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출1.png)

  * #### 분석 대상 문서를 보고 명사를 찾아 표시한다.

    * 문서에서 엔티티는 명사형으로 표현됨

  * #### 명사 하나 하나에 대해 속성인지 엔티티인지 구별한다.

    * 이 명사는 엔티티 => *엔티티 리스트의 엔티티 명에 기록*
    * 이 명사는 어떤 엔티티의 속성 => *엔티티 리스트의 포함 속성에 기록*
    * 이 명사는 어떤 엔티티의 인스턴스 => *소속 엔티티를 엔티티명에 기록*
    * 엔티티인지 속성인지 불분명 => *엔티티 후보풀에 기록*

  * #### 중복된 명사, 혹은 유사한 의미의 명사는 하나로 정리

    * '고객', '회원' => *'회원'*

  * #### 엔티티 후보 풀에 있는 명사를 재검토한다.

    * 검토하여 엔티티 리스트에 기록
    * 여전히 엔티티 여부가 불분명하다면 풀에서 제외

  * #### 도출된 엔티티에 대해 구축될 시스템에서 데이터를 관리할 필요가 있는지 검토한다.

    * 도출된 모든 엔티티가 물리적 DB 설계에 반영되어야 하는 건 아님
    * 관리가 필요한 부분만을 선택적으로 반영
    * 데이터 관리를 할 필요가 없으면 엔티티에서 제외

  * #### 엔티티 기술서를 작성한다.

    ![엔티티기술서](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티기술서.png)

    

****

****

****



## 업무 기술서에서 엩티티 도출의 예

* ### 엔티티를 도출(5장_도서관 관리 시스템 업무) 

  * #### 1. 엔티티 후보풀과 엔티티 리스트를 그린다.

  ![엔티티도출1](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출1.png)

  * #### 2. 업무기술서에서 명사를 찾아 표시한다.

    * **도서**를 **대출**하기 위해서는 **회원 가입**을 하여야 한다.

    * 회원가입시에는 **이용자이름**, **전화번호**, **집주소**, **이메일 주소**를 입력한다.

    * 회원 가입을 하면 **회원증**이 발급되고 **회원카드**에 부착된 **바코드**를 가지고 **대출/반납**시 **신분** 확인을 할 수 있다.

    * **회원**에게는 자체 관리를 위해 **회원 번호**가 부여된다.

    * 일반 회원의 대출 가능 도서 수는 5권으로 제한한다.

    * 회원 탈퇴를 하려면 미 반납 도서가 없어야 한다.

    * 회원이 탈퇴하면 **회원 정보**에 **탈퇴여부**를 기록하고, **월말 결산**시 탈퇴한 회원을 일괄 정리한다.

    * 탈퇴한 회원이 재가입시에는 최초 가입과 동일한 **절차**를 가진다.

  * #### 3. 표시한 명사들을 엔티티와 속성으로 분류한다.

    ![엔티티도출2](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출2.png)

  * #### 4. 중복된 명사/유사의미의 명사를 하나로 정리

    ![엔티티도출3](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출3.png)

  * #### 5. 엔티티 후보풀에 있는 명사들을 검토

    ![엔티티도출4](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출4.png)

  * #### 6. 도출된 엔티티가 구축될 시스템에서 필요한지 판단

    ![엔티티도출5](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출5.png)

  * #### 7. 엔티티 기술서를 작성한다.

    ![엔티티도출6](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\엔티티도출6.png)

    기준이 되는 데이터 들을 마스터 데이터라 한다.

****

* ### NOTE. 직관적인 방법으로 엔티티 찾기

  * 특정 업무 영역에 대해 대개 한 두개의 핵심 엔티티가 있다.
    * 도서관 업무 : 회원, 도서, 대출, 반납, ...
    * 병원관리 : 환자, 의사, 질병, 병실, ...
    * 수강신청 : 교수, 학생, 과목, 강의실, ...



****

****



## 장부 / 전표에서 엔티티 도출의 예

* ### 아래의 입고 전표에 대해 엔티티를 도출

  ![입고전표](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\입고전표.png)

  * #### 장부 / 전표에 들어있는 데이터가 데이터베이스에 저장될 필요가 있는지 판단

    * EX ) 

      신규 도서 카탈로그 => ***관리 필요 없음***

      회원 명단 => ***관리 필요***

  * #### 엔티티로 선택된 장부 / 전표의 이름 대신에 다른 이름을 사용하는 것을 고려한다.

    * 회원 명단 => ***회원*** or ***회원 정보***

  * #### 엔티티로 선택된 장부 / 전표에서 다른 엔티티를 추출 할 수 있는지 검토한다.

    * 다른 입고전표에도 반복해서 나타날 수 있는 정보 항목을 추출

    ![입고전표1](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\입고전표1.png)

  * #### 엔티티 기술서를 작성한다.

    ![입고전표2](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\입고전표2.png)

****

* ### 장부/전표에서 엔티티 도출 예제 2

​	![판매전표](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\판매전표.png)

​	![판매전표1](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\판매전표1.png)

​	![판매전표2](C:\Users\HP450G2\TIL\혁신성장 청년인재 집중양성 7기 sap 클라우드\img\판매전표2.png)



****

****



## 엔티티 도출 사례 : 도서관 관리

교재 참조





****

****

****



# 