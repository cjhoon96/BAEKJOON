# 3. 데이터 모델링의 주요 개념

## 개요

* ### 데이터 모델링의 목적

  * 정보 시스템을 구축하는데 필요한 정보(데이터)를 약속된 표기법에 의해 표현함으로써 시스템 구축 대상이 되는 업무 내용을 정확하게 분석하고자 함

  * 분석된 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 관리에 이용하고자 함

  * #### NOTE

    * 논리적 데이터베이스 설계를 다른 말로 데이터 모델링 이라 한다.
      * ‘데이터 모델링’이 일반적으로 많이 쓰임
    * 데이터 모델링은 전체 데이터베이스 설계에서 핵심적인 부분
    * 데이터 모델링을 할 수 있기 위해서는 모델링에 사용되는 주요 개념들에 대해 알고 있어야 한다.
    * 데이터 모델링은 종이와 연필을 가지고도 진행할 수 있지만, 효율적인 모델링을 위해 지원 도구를 사용하는 경우가 많다.
    * 데이터 모델링을 수행하게 되면 최종적인 산출물(output)은 ERD 이다.

****

* ### 데이터 모델링의 세가지 개념

  * 엔티티 (Entity)        
  * 관계 (Relationship)  
  * 속성 (attribute)       

****

* ### 데이터베이스 용어 - V S - 모델링 용어

  ![데이터베이스모델링용어](C:/Users/HP450G2/TIL/혁신성장 청년인재 집중양성 7기 sap 클라우드/데이터베이스모델링용어.png) 

****

****

## 엔티티(Entity)

* ### 엔티티란?

  * Entity란 업무의 관심 대상이 되는 **정보를 갖고 있거나 그에 대한 정보를 알아야 하는** 유형, 무형의 사물이나 객체를 말한다.
  * 엔티티의 예
    * 고객, 사원 정보, 부서, 제품
    * 주문서, 성적표, 입고 전표, 금전 출납부
    * 생산 계획, 공정

****

* ### 엔티티의 분류

  * #### 유형 엔티티 : 

    * 물리적인 형태가 있고 쉽게 엔티티임을 알 수 있다. 
    * (예: 고객, 사원, 상품, 거래처, 학생, 교수, ...)

  * #### 무형 엔티티 : 

    * 물리적인 형태가 없고 개념적으로 존재하는 엔티티이다. 
    * (예: 생산계획, 부서조직, 색상별선호도, ...)

  * #### 문서 엔티티 : 

    * 업무 절차상에서 사용되는 문서나 장부, 전표에 대한 엔티티이다. 
    * (예: 거래명세서, 입출금전표, 주문서, 금전출납부, .. )

  * #### 이력 엔티티 : 

    * 업무상 반복적으로 이루어지는 행위나 사건의 내용을 일자별, 시간별로 저장하기 위한 엔티티이다. 
    * (예: 입고이력, 출고이력, ..)

  * #### 코드 엔티티 : 

    * 무형 엔티티의 일종으로 각종 코드를 관리하기 위한 엔티티이다. 
    * (예: 국가코드, 색상코드, 직급분류코드, 상태코드, ...)

****

* ### 엔티티의 특징

  * 시스템 구축 대상이 되는 업무에서 필요하고 관리하고자 하는 정보여야 한다.

    * **ex)** 환자 : 

      병원 정보 시스템에서는 꼭 필요한 엔티티

      일반 회사의 정보 시스템에서는 필요하지 않음

  * 일반적으로 엔티티는 **2개 이상의 인스턴스(instance)**가 존재해야 의미가 있다.

    * **ex)** 과목
      * 영어, 수학, 과학, ...
      * 수학만 가르치는 보습학원에서 과목이라는 엔티티를 만드는 것은 무의미하다.

  * 엔티티는 **반드시 하나 이상의 속성**을 가져야 한다.

    * **ex)** 과목
      * 과목 코드, 과목명, 학점, ...
    * 만일 **속성을 찾을 수 없다면** 엔티티이기 보다는 **다른 엔티티의 속성일 가능성**이 높다.

****

* ### 엔티티의 명명 (naming)

  * 어떤 엔티티에 적절한 이름을 붙이는 것은 쉬운 일이 아니다.
    * 예: 고객이 어떤 제품을 주문했는지를 관리하는 엔티티
      * 고객제품 : 고객이 주문한 제품? 고객의 제품 ?
  * 일반적인 명명 기준
    * 현업 업무에서 사용하는 용어를 사용
    * 약어를 가능하면 사용하지 않는다.
    * 단수 명사를 사용
    * 모든 엔티티명은 유일해야 함
    * 엔티티 생성 의미대로 이름을 부여

****

****

## 속성 (Attribute)      

* ### 속성이란?

  * 엔티티에서 관리하고자 하는 **더이상 분리되지 않는 최소 단위의 데이터**

  * 엔티티는 한개 혹은 한 개 이상의 속성을 가진다.

  * 엔티티는 **'속성들의 집합'** 으로 정의될 수 있다.

  * #### 속성이란

    * 엔티티의 속성은 나중에 **테이블의 컬럼**에 대응된다.
    * 현실세계의 정보 항목중 업무에서 관심이 있는 정보 항목만을 속성으로 취한다.

****

* ### 속성의 분류

  * #### 기본 속성 :

    * 업무 분석을 통해 현실세계로 부터 얻어낸 속성
    * 제품이름, 제조년월, 원가

  * #### 설계 속성 : 

    * 원래 현실세계에는 존재하지 않지만 설계 과정에서 만들어진 속성
    * 국가코드, 색깔 코드, 일련번호

  * #### 유도 속성 :

    * 다른 속성으로 부터 계산이나 변혀에 의해 나온 속성
    * 금액 (= 수량 * 단가), 평균 (= 합계/인원수)

****

* ### 속성의 명명 규칙

  * 속성의 의미가 분명히 들어나도록 이름을 부여
  * 해당 업무에서 사용하는 이름을 부여
  * 서술식 속성명은 사용하지 않는다. 수식어 소유격 자제
  * 약어의 사용은 가급적 피한다.
  * 엔티티에서 유일하게 식별 가능하도록 지정
  * 용어상의 혼란을 피하기 위해 사전에 **용어사전(data dictionary)**을 정의해서 쓰는 경우도 많다.

****

****

## 관계 (Relationship)

* ### 관계란?

  * 두개 혹은 그 이상의 엔티티들 간의 의미있는 연결

  * 엔티티와 엔티티가 존재의 형태나 행위로 서로에게 영향을 주는 형태

  * 두 엔티티가 관계가 있다는 의미는 상호 공유하는 속성이 있다는 것을 의미한다.

  * 상호 관계가 있는 두 엔티티에서 공유하는 속성은 반드시 이름이 같을 필요는 없다.

  * **ex)** 

    사원 정보 -- 부서 정보	==> 부서코드 공통

    학생 -- 수강과목			==>  과목코드 공통

****

* ### 관계의 명명

  * 두 엔티티 사이의 관계에 대해 이름을 붙이는 것

****

* ### 관계의 카디널리티 (Cardinality)

  * 두개의 엔티티간의 관계에서 참여자 (인스턴스)의 수를 표현한 것
  * 단일 (OneToOne) : | 
  * 다중 (OneToMany) : <

  ![Cardinality](C:/Users/HP450G2/TIL/혁신성장 청년인재 집중양성 7기 sap 클라우드/Cardinality.png)

  * #### 1:1

    * 하나의 테이블로 합칠 수도 있다.

  * #### 1:N

    * 엔티티와 엔티티의 관계는 대부분 1:N의 경우가 많다.

  * #### M:N



****

* ### 관계의 참여도

  * 관계가 있는 두 엔티티의 인스턴스들이 항상 관계에 참여하는지, 아니면 경우에 따라 관계에 참여하는지 여부

    * 필수 : |
    * 선택 : O

  * **EX )**

    **사원 >O-----------|| 부서**

    * 모든 사원은 반드시 부서를 가지며, 단 하나의 부서에 소속된다.
    * 어떤 부서는 특정 지점에서 사원이 없을수도 있고, 있는 경우 여러 사원을 포함할 수 있다.

    **학생 ||-----------O< 학생의 취미**

    

****

* ### 부모 엔티티와 자식 엔티티

  * 상호 관계가 있는 두 엔티티는 부모 - 자식의 관계에 있는 경우가 많다.

  * 부모, 자식 여부는 어느쪽에 정보가 먼저 생성이 되는가에 따라 결정된다.

    * 정보가 먼저 생성되어야 하는 쪽이 부모, 가져다 쓰는 쪽이 자식

    * **EX )**

      **부서 - 사원** 의 경우 부서 엔티티가 부모 엔티티가 된다.

      **학과 - 학생** 의 경우 학과 엔티티가 부모 엔티티가 된다.

  * 두 엔티티가 부모 - 자식 의 관계가 있다면 일반적으로 부모 엔티티와 자식 엔티티의 **카디낼러티는 1:N** 이고 **참여도는 부모쪽이 필수, 자식쪽이 선택**으로 나타난다.

****

****

## 주식별자와 외래식별자 **<u>#### 반드시 추가내용</u>**

* ### 식별자 - V S - 키

  * Data Modeling 단계		
    * 주식별자
    * 외래식별자
    * 보조식별자
  * 물리적 DB 설계 단계
    * 기본키
    * 외래키
    * 대체키

****

* ### 주식별자 표현 방법

  * 속성 이름앞에 ◆로 표기하거나 이름 뒤에 **(PK)**로 표기한다. 

  | 사원정보                            |
  | ----------------------------------- |
  | **◆사번**  **(PK)**    ==> 주식별자 |
  | 이름 주민등록번호, 생년월일,...     |

* 외래식별자의 역할

  * 외래식별자는 다른 엔티티와의 연결고리 역할을 한다
  * 부모 엔티티와 자식 엔티티 관계에서 자식 엔티티의 외래식별자는 부모 엔티티의 주식별자와 연결된다는 사실을 공식처럼 기억해두자
  * 주식별자는 null 값을 가질 수 있지만 외래식별자는 null 값을 가질 수 없다.

****

****

## ERD 표기법  ----------**<u>교제 참고</u>**











![erd실습](C:/Users/HP450G2/TIL/혁신성장 청년인재 집중양성 7기 sap 클라우드/erd실습.png)







****

****

****

# 연습문제